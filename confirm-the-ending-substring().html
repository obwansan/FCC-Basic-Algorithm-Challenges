<!DOCTYPE html>
<html>
  <head>
    <title>Confirm the ending</title>
  </head>
<body>

<!-- 
Check if a string (first argument, str) ends with the given target string (second argument, target).
-->
    
<script>

function confirmEnding(str, target) {
 
 // Get length of target
 var targetLength = target.length;
 var stringLength = str.length;
 // Extract sub-string of chars from end of str that is length of target
 var subString = str.substring(stringLength - targetLength); 
 // Compare target and sub-string 
 if (target === subString) {
     return true;
 }
 return false;
}
    
/* Refactored */
    
function confirmEnding(str, target) {
  var subString = str.substring(str.length - target.length); 
  return target === subString;
}
    
/* 
stringLength - targetLength
    7        -     1       = 6
So str.substring(stringLength - targetLength) returns the 6th character (index starts at 0), which is 'n'.
If only a single index parameter (as in this case) the rest of the string from this 'start' index is extracted. Which is why substring is returned 'n' rather than 'Bastia'.
*/
    
console.log(
//confirmEnding("Bastian", "n") 
//confirmEnding("Connor", "n") 
confirmEnding("Walking on water and developing software from a specification are easy if both are frozen", "specification") 
//confirmEnding("He has to give me a new name", "name") 
//confirmEnding("Open sesame", "same") 
//confirmEnding("Open sesame", "pen") 
//confirmEnding("If you want to save our world, you must hurry. We dont know how much longer we can withstand the nothing", "mountain") 
);
    
</script>

</body>
</html>
